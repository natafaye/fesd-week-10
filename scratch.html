<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
</head>

<body>
    <div class="container mt-4">
        <h3>Grocery List</h3>
        <form class="d-flex gap-2">
            <input id="new-textbox" type="text" class="form-control"/>
            <button class="btn btn-primary" onclick="handleAddClick(event)">Add</button>
        </form>
        <button onclick="clearList()">Clear the List</button>
        <ul id="list"></ul>
    </div>

    <script> // putting javascript straight in here for convenience of demo

        const shoppingList = []
        
        const textbox = document.getElementById("new-textbox")
        const list = document.querySelector("#list")

        function handleAddClick(event) {
            event.preventDefault() // prevent the page from refreshing

            // Makes a new li soul in The Great Before
            const newLi = document.createElement("li")

            // Put the textbox text into the li
            newLi.innerHTML = `
                <span>${textbox.value}</span>
                <button class="btn btn-danger ms-3" id="delete-button">Delete</button>
            `
            newLi.querySelector("#delete-button").addEventListener("click", () => {
                newLi.remove()

                // TODO: remove from shoppingList
            })

            // Give it an earth pass and move it into the page
            list.appendChild(newLi)

            // Also save the data in the code
            shoppingList.push(textbox.value)

            // Clear the textbox
            textbox.value = ""
        }

        function clearList() {
            list.innerHTML = "" // this is crappy
        }

    </script>
</body>

</html>

<!-- THE GREAT BEFORE -->
